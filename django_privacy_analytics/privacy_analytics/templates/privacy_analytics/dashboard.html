{% extends 'privacy_analytics/base.html' %}
{% load humanize %}
{% block content %}
<br><br>
<h1 class="title has-text-primary is-size-1">
    Privacy Analytics
</h1>
<h2 class="subtitle">
    <form method="GET">
        From <input type="datetime-local" class="input is-small is-inline" name="from" value="{{from}}" />
        until <input type="datetime-local" name="until" value="{{until}}" class="input is-small is-inline">
        to <input type="url" placeholder="any page" value="{{path}}" name="path" class="input is-small is-inline"/>
        <button type="submit" class="button is-small">Update Filters</button>
    </form>
</h2>
<br>
<section class="messages">
    {% for message in messages %}
    <div class="notification {{message.classes}}">{{message.content}}</div>
    {% endfor %}
</section>
<br>
<div class="columns">
    <div class="column">
        <div class="notification is-success">
            <p class="title">{{unique_visitors|intcomma|floatformat:"-1"}}</p>
            <p class="subtitle">Unique Visitors</p>
        </div>
    </div>
    <div class="column">
        <div class="notification is-primary">
            <p class="title">{{total_views|intcomma|floatformat:"-1"}}</p>
            <p class="subtitle">Total Views</p>
        </div>
    </div>
    <div class="column">
        <div class="notification is-info">
            <p class="title">{{percent_authenticated|intcomma|floatformat:"-1"}}%</p>
            <p class="subtitle">Authenticated Views</p>
        </div>
    </div>
    <div class="column">
        <div class="notification is-link">
            <p class="title">{{views_per_visitor|intcomma|floatformat:"-1"}}</p>
            <p class="subtitle">Views Per Visitor</p>
        </div>
    </div>
</div>
</div>
{% endblock %}